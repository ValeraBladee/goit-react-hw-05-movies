"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[964],{1687:function(t,e,r){r.d(e,{Ht:function(){return p},JN:function(){return i},Jh:function(){return h},w7:function(){return l},yO:function(){return f}});var n=r(5861),a=r(7757),c=r.n(a),u=r(5294),o="https://api.themoviedb.org",s="60734cb7239d2e1b26d8feba8040402e",i=function(){var t=(0,n.Z)(c().mark((function t(){var e;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.get("".concat(o,"/3/trending/movie/day?api_key=").concat(s));case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),p=function(){var t=(0,n.Z)(c().mark((function t(e){var r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.get("".concat(o,"/3/search/movie?api_key=").concat(s,"&query=").concat(e));case 2:return r=t.sent,t.abrupt("return",r.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=(0,n.Z)(c().mark((function t(e){var r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.get("".concat(o,"/3/movie/").concat(e,"?api_key=").concat(s));case 2:return r=t.sent,t.abrupt("return",r.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=(0,n.Z)(c().mark((function t(e){var r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.get("".concat(o,"/3/movie/").concat(e,"/credits?api_key=").concat(s));case 2:return r=t.sent,t.abrupt("return",r.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),h=function(){var t=(0,n.Z)(c().mark((function t(e){var r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.get("".concat(o,"/3/movie/").concat(e,"/reviews?api_key=").concat(s));case 2:return r=t.sent,t.abrupt("return",r.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},4011:function(t,e,r){r.d(e,{Z:function(){return o}});var n=r(7689),a=r(1087),c="MoviesListItems_link__kD6ZF",u=r(184),o=function(t){var e=t.movies,r=(0,n.TH)();return(0,u.jsx)(u.Fragment,{children:e.map((function(t){return(0,u.jsx)("li",{children:(0,u.jsx)(a.rU,{to:"/".concat(t.id),state:{from:r},className:c,children:t.title})},t.id)}))})}},2964:function(t,e,r){r.r(e),r.d(e,{default:function(){return x}});var n=r(5861),a=r(9439),c=r(7757),u=r.n(c),o=r(3402),s=r(2791),i=r(1087),p=r(8881),l=r(1687),f=r(4011),h=r(5705),m={form:"SearchForm_form__o80os",label:"SearchForm_label__GvSVH",input:"SearchForm_input__HOxJo",button:"SearchForm_button__UXY06"},v=r(184),d=function(t){var e=t.onSubmit;return(0,v.jsx)(h.J9,{initialValues:{query:""},onSubmit:function(t,r){var n=r.resetForm;e(t.query.trim()),n()},children:(0,v.jsxs)(h.l0,{className:m.form,autoComplete:"off",children:[(0,v.jsx)("label",{className:m.label,htmlFor:"keyword",children:(0,v.jsx)(h.gN,{className:m.input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",name:"query"})}),(0,v.jsx)("button",{type:"submit",className:m.button,children:(0,v.jsx)("span",{className:m.buttonLabel,children:"Search"})})]})})},b="Movies_list__hqYjd",x=function(){var t,e=(0,i.lr)(),r=(0,a.Z)(e,2),c=r[0],h=r[1],m=(0,s.useState)([]),x=(0,a.Z)(m,2),_=x[0],y=x[1],w=(0,s.useState)(!1),k=(0,a.Z)(w,2),g=k[0],Z=k[1],j=(0,s.useState)(!1),S=(0,a.Z)(j,2),F=S[0],N=S[1],q=null!==(t=c.get("query"))&&void 0!==t?t:"";return(0,s.useEffect)((function(){function t(){return(t=(0,n.Z)(u().mark((function t(){var e;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return y([]),Z(!0),N(!1),t.prev=3,t.next=6,(0,l.Ht)(q);case 6:if(0!==(e=t.sent).results.length){t.next=9;break}return t.abrupt("return",o.ZP.error("Sorry, there are no movies. Try again"));case 9:y(e.results),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(3),N(!0);case 15:return t.prev=15,Z(!1),t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[3,12,15,18]])})))).apply(this,arguments)}""!==q&&function(){t.apply(this,arguments)}()}),[q]),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(d,{onSubmit:function(t){h(""!==t?{query:t}:{})}}),g&&(0,v.jsx)(p.NB,{visible:!0,height:"80",width:"80",ariaLabel:"blocks-loading",wrapperClass:"blocks-wrapper",colors:["#e15b64","#f47e60","#f8b26a","#abbd81","#849b87"]}),(0,v.jsx)("ul",{className:b,children:0!==_.length&&(0,v.jsx)(f.Z,{movies:_})}),F&&(0,v.jsx)("span",{children:"Something went wrong!"}),(0,v.jsx)(o.x7,{position:"top-right"})]})}}}]);
//# sourceMappingURL=964.4f044b53.chunk.js.map